<html xml:space="preserve"><head><title>xqDoc -- Code Sample</title></head><body xml:space="preserve"><pre>define function display:print-imports($uri as xs:string, $local as xs:boolean) as element()* <br/>{<br/>  if (fn:exists(fn:doc($uri)/xq:xqdoc/xq:imports/xq:import)) then<br/>       (&lt;h4&gt;Imported Modules&lt;/h4&gt;,<br/>        &lt;div id="imports"&gt;<br/>          {<br/>            for $v in fn:doc($uri)/xq:xqdoc/xq:imports/xq:import<br/>            return <br/>              &lt;div&gt;<br/>               &lt;ul class="method"&gt;<br/>               &lt;li class="left"&gt;<br/>               {<br/>               if (fn:exists(fn:collection($display:XQDOC_COLLECTION)/xq:xqdoc/xq:module[xq:uri = $v/xq:uri])) then<br/>                 display:build-link("get-module",<br/>                                    $local, <br/>                                    fn:base-uri(fn:collection($display:XQDOC_COLLECTION)/xq:xqdoc/xq:module[xq:uri = $v/xq:uri]),<br/>                                    display:decode-uri(xs:string($v/xq:uri)))<br/>               else<br/>                 display:decode-uri(xs:string($v/xq:uri)) <br/>               }<br/>               &lt;/li&gt;<br/>               &lt;li class="right"&gt; {$v/xq:comment/xq:description/node() }&lt;/li&gt;           <br/>               &lt;/ul&gt;<br/>               &lt;ul&gt;<br/>               { display:print-comment($v/xq:comment/xq:since, "Since:", $local) }<br/>               { display:print-comment($v/xq:comment/xq:see, "See:", $local) }<br/>               &lt;/ul&gt;<br/>              &lt;/div&gt;<br/>            }<br/>        &lt;/div&gt;)<br/>  else<br/>    ()<br/>}<br/></pre></body></html>