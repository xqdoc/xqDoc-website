<html xml:space="preserve"><head><title>xqDoc -- Code Sample</title></head><body xml:space="preserve"><pre>define function display:print-method-summary($uri as xs:string) as element()* <br/>{<br/>  if (fn:exists(fn:doc($uri)/xq:xqdoc/xq:functions/xq:function)) then<br/>    (&lt;h4&gt;Function Summary&lt;/h4&gt;,<br/>     &lt;div id="methods"&gt; <br/>     &lt;a name="methods"/&gt;  <br/>        {<br/>         for $f in fn:doc($uri)/xq:xqdoc/xq:functions/xq:function<br/>         order by fn:normalize-space(xs:string($f/xq:name)) ascending<br/>         return<br/>            &lt;ul class="method"&gt;<br/>              &lt;li class="left"&gt;<br/>               &lt;a href="{fn:concat('#', fn:normalize-space(xs:string($f/xq:name)))}"&gt;{fn:normalize-space(xs:string($f/xq:name))}&lt;/a&gt;<br/>               &lt;div class="description"&gt;<br/>               {<br/>                 if (fn:exists($f/xq:comment/xq:description)) then <br/>                    if (fn:substring-before($f/xq:comment/xq:description, ".")) then<br/>                      fn:concat(fn:substring-before($f/xq:comment/xq:description, "."), ".")<br/>                    else<br/>                      xs:string($f/xq:comment/xq:description)<br/>                 else<br/>                    ()<br/>               }<br/>               &lt;/div&gt;<br/>              &lt;/li&gt;<br/>              &lt;li class="right"&gt;<br/>               {display:print-signature($f/xq:signature, fn:true())}<br/>              &lt;/li&gt;<br/>            &lt;/ul&gt;<br/>          }<br/>    &lt;/div&gt;)<br/>  else<br/>    ()<br/>}<br/></pre></body></html>