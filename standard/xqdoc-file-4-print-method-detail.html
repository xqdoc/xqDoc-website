<html xml:space="preserve"><head><title>xqDoc -- Code Sample</title></head><body xml:space="preserve"><pre>define function display:print-method-detail($uri as xs:string, $local as xs:boolean) as item()* <br/>{<br/>  if (fn:exists(fn:doc($uri)/xq:xqdoc/xq:functions/xq:function)) then<br/>    (&lt;h4&gt;Function Detail&lt;/h4&gt;,<br/>     &lt;div id="methoddetail"&gt;<br/>     {<br/>      for $f in fn:doc($uri)/xq:xqdoc/xq:functions/xq:function<br/>      order by fn:normalize-space(xs:string($f/xq:name)) ascending<br/>      return<br/>        (&lt;div id="{fn:normalize-space(xs:string($f/xq:name))}" class="methoddetail"&gt;<br/>         &lt;h5&gt;&lt;a name="{fn:normalize-space(xs:string($f/xq:name))}"/&gt;{fn:normalize-space(xs:string($f/xq:name))}&lt;/h5&gt;<br/>         &lt;ul class="method"&gt;<br/>           &lt;li class="left"&gt;<br/>           {<br/>             if (fn:exists($f/xq:body)) then<br/><br/>              display:build-link("get-code",<br/>                                 $local, <br/>                                 ($uri,fn:normalize-space(xs:string($f/xq:name))),<br/>                                 fn:normalize-space(xs:string($f/xq:name)))<br/>             else<br/>              ()<br/>           }<br/>           &lt;/li&gt;<br/>           &lt;li class="right"&gt;     <br/>              { display:print-signature($f/xq:signature, fn:false()) }<br/>           &lt;/li&gt;<br/>         &lt;/ul&gt;<br/>	   {display:print-detail-comment($f/xq:comment/xq:description, (), $local)}<br/>         &lt;ul&gt;<br/>         {<br/>           (display:print-detail-comment($f/xq:comment/xq:param, "Parameters:", $local),<br/>            display:print-detail-comment($f/xq:comment/xq:return, "Return:", $local),<br/>            display:print-detail-comment($f/xq:comment/xq:error, "Errors:", $local),<br/>            display:print-detail-comment($f/xq:comment/xq:since, "Since:", $local),<br/>            display:print-detail-comment($f/xq:comment/xq:see, "See:", $local),<br/>            display:print-detail-comment($f/xq:comment/xq:deprecated, "Deprecated:", $local) )<br/>         }<br/>         &lt;/ul&gt;<br/>         {<br/>         display:print-external-functions-invoked($f, $local),   <br/>         display:print-external-functions-invoked-by($f, $local),      <br/>         display:print-internal-functions-invoked($f, $local),    <br/>         display:print-internal-functions-invoked-by($f, $local),  <br/>         display:print-internal-variables-referenced($f, $local),<br/>         display:print-external-variables-referenced($f, $local)<br/>         }<br/>         &lt;/div&gt;,  "&amp;#160;")<br/>    }<br/>    &lt;/div&gt;, "&amp;#160;")<br/>  else<br/>    ()    <br/>}<br/></pre></body></html>