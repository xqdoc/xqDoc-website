<html>
<head>
<title>xqDoc Documentation -- Conversion</title>
</head>
<body bgcolor="#FFFFFF" alink="#666666" vlink="#666666">

<!-- Output the Header -->
<table width="650" border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<a href="index.html"><img src="logo.gif" border="0"/></a>
<br/>
<img src="line_1pixel_horizontal.gif" width="650" height="1"/>
</td>
</tr>
</table>

<p/>

<table width="650" border="0" cellspacing="0" cellpadding="0">
<tr>
<td bgcolor="#DEDFE2" width="143" valign="top">
&nbsp;<br/>
<font face="Arial" size="+1"color="#4F5982">Project</font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="history.html" style="text-decoration:none">History</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="mission.html" style="text-decoration:none">Mission</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="quotes.html" style="text-decoration:none">Quotes</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="license.html" style="text-decoration:none">License</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="news.html" style="text-decoration:none">News</a></font>
<br/>
<p/>
<font face="Arial" size="+1" color="#4F5982">Related Efforts</font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="xquery-style.html" style="text-decoration:none">XQuery Style</a></font>
<br/>
<p/>
<font face="Arial" size="+1"color="#4F5982">Quick Start</font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="qs_general.html" style="text-decoration:none">General</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="qs_basex.html" style="text-decoration:none">BaseX</a></font> 
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="qs_exist.html" style="text-decoration:none">eXist</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="qs_marklogic.html" style="text-decoration:none">MarkLogic</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="qs_saxon.html" style="text-decoration:none">Saxon</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="qs_xquerydoc.html" style="text-decoration:none">xquerydoc</a></font>
<br/>      
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="qs_zorba.html" style="text-decoration:none">Zorba</a></font>
<br/>
<p/>
<font face="Arial" size="+1"color="#4F5982">Documentation</font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="assumptions_doc.html" style="text-decoration:none">Assumptions</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="limitations_doc.html" style="text-decoration:none">Limitations</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="xqdoc_comments_doc.html" style="text-decoration:none">xqDoc Comments</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="xqdoc_schema_doc.html" style="text-decoration:none">xqDoc Schema</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="xqdoc_conversion_doc.html" style="text-decoration:none">xqDoc Conversion</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="xqdoc_display_doc.html" style="text-decoration:none">xqDoc Display</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="xqdoc_drivers_doc.html" style="text-decoration:none">xqDoc Drivers</a></font>
<br/>
<p/>
<font face="Arial" size="+1"color="#4F5982">Downloads</font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="binaries.html" style="text-decoration:none">Binaries</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="source.html" style="text-decoration:none">Source</a></font>
<br/>
<p/>
<font face="Arial" size="+1"color="#4F5982">Sample Output</font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="basic.html" style="text-decoration:none">xqDoc Basic</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="standard.html" style="text-decoration:none">xqDoc Standard</a></font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="enhanced.html" style="text-decoration:none">xqDoc Enhanced</a></font>
<br/>
<p/>
<font face="Arial" size="+1"color="#4F5982">Credits</font>
<br/>
<font face="Arial"  color="#666666">&nbsp;&nbsp;<a href="who_we_are.html" style="text-decoration:none">Who We Are</a></font>
<br/>
</td>


<!-- Spacer -->
<td width="5"/>

<!-- Vertical Line-->
<td width="2"  bgcolor="#4F5982"/>

<td width="500" valign="top">
<table width="500" border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<img src="line_1pixel_horizontal.gif" width="350" height="1"/>
</td>
<td align="middle" width="150">
<font face="Arial" color="#4F5982" size="+1"><i>xqDoc Conversion</i></font>
</td>
</tr>
</table>
<p/>
<table width="500" border="0" cellspacing="5" cellpadding="5">
<tr>
<td>
<font face="Arial" color="#666666">
The xqDoc conversion package is a collection of vendor neutral Java classes with the sole responsibility of
converting valid XQuery library modules and main modules into xqDoc XML.  The package leverages the open source <a href="http://www.antlr.org">ANTLR</a>
parser to assist with the processing of XQuery library modules and main modules.  There are some key 
<a href="assumptions_doc.html">assumptions</a> and <a href="limitations_doc.html">limitations</a> 
associated with the xqDoc conversion package that have been documented.  
<p/>
The following is a brief description for the major classes contained in the xqDoc conversion package
and their basic interactions with one another and the outside world.
<p/>
<br/>
<b>XQDocController</b>
<p/>
This is the class that drivers will use to process a library module or main module.  Drivers will
have the ability to set 'predefined' namespace and prefix mappings as well as a default function
namespace.  After a driver invokes the process() method in  XQDocController, the controller will create 
the supporting cast of objects including the XQDocContext (the context) and XQDocParser (the parser).  The 
controller will then pass control to the parser (after setting the context in the parser) to begin processing the module.
When the parser is finished processing the module, the controller will call a method in the context to set 
the generated xqDoc XML and xqDoc URI in the XQDocPayload and return the payload to the driver.
<p/>
<br/>
<b>XQDocContext</b>
<p/>
This class is created and initialized by the controller.  It is then passed to the parser where the
parser will make periodic callbacks that will set variables in the context.  When called by the controller
(after the parser is finished processing the module) the context will then create the XQDocXML class and invoke methods to generate the xqDoc XML.
Finally, the context will create the XQDocPayload and set the generated xqDoc XML and xqDoc URI
in this payload.  This payload is then returned to the driver (via the controller).
<p/>
<br/>
<b>XQDocPayload</b>
<p/>
This is the 'container' class that will hold the response returned from the controller to the driver.  The
payload (set by the context) will consist of the generated xqDoc XML and the xqDoc URI.  Although not required, the driver should then store the xqDoc
XML into the vendor specific XML database with the associated xqDoc URI or the filesystem with an appropriate filename.
<p/>
<br/>
<b>XQDocXML</b>
<p/>
This is the class that knows how to generate xqDoc XML.  The context will create and invoke various methods (and
supply the necessary information) to enable this class to construct the xqDoc XML.
<p/>
<br/>
<b>XQDocParser</b>
<p/>
This is the ANTLR generated class (addressed by this interface) that will actually parse the library
and main modules.  While processing the module, the parser will make periodic callbacks to the context.
These callbacks will set variables in the context that will subsequently enable XQDocXML to generate
the xqDoc XML.
<p/>
<br/>
The <a target="javadoc" href="javadoc/conversion/index.html">javadoc</a> or <a href="source.html">source</a> for
the xqDoc conversion package is a great resource for uncovering further details about the classes contained
in this package.
</font>
</td>
</tr>
</table>

</body>

</html>