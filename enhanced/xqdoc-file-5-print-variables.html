<html xml:space="preserve"><head><title>xqDoc -- Code Sample</title></head><body xml:space="preserve"><pre>define function display:print-variables($uri as xs:string, $local as xs:boolean) as element()* <br/>{<br/>  if (fn:exists(fn:doc($uri)/xq:xqdoc/xq:variables/xq:variable)) then<br/>      (&lt;h4&gt;Variables&lt;/h4&gt;, <br/>       &lt;div id="variables"&gt;<br/>       {<br/>            for $v in fn:doc($uri)/xq:xqdoc/xq:variables/xq:variable<br/>            return <br/>                &lt;div&gt;<br/>                 &lt;a name="{ fn:concat("$", xs:string($v/xq:uri)) }"/&gt;<br/>                 &lt;ul class="method"&gt;<br/>                   &lt;li class="left"&gt;{ fn:concat("$", xs:string($v/xq:uri)) }&lt;/li&gt;<br/>                   &lt;li class="right"&gt;{ $v/xq:comment/xq:description/node() }&lt;/li&gt;<br/>                 &lt;/ul&gt;<br/>                 &lt;ul&gt;<br/>                 { display:print-comment($v/xq:comment/xq:since, "Since:", $local) }<br/>                 { display:print-comment($v/xq:comment/xq:see, "See:", $local) }<br/>                 &lt;/ul&gt;<br/>                 { display:print-internal-variable-references($v, $local) }<br/>                 { display:print-external-variable-references($v, $local) }<br/>                &lt;/div&gt;<br/>       }       <br/>       &lt;/div&gt;)<br/>  else<br/>    ()<br/>}<br/></pre></body></html>