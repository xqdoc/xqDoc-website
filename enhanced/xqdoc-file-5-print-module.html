<html xml:space="preserve"><head><title>xqDoc -- Code Sample</title></head><body xml:space="preserve"><pre>define function display:print-module($uri as xs:string, $local as xs:boolean) as element()* <br/>{<br/>   (&lt;h4&gt;Module URI&lt;/h4&gt;,<br/>    &lt;h1&gt;{ display:decode-uri(xs:string(fn:doc($uri)/xq:xqdoc/xq:module/xq:uri)) }&lt;/h1&gt;,<br/>    if (fn:exists(fn:doc($uri)/xq:xqdoc/xq:module/xq:body)) then<br/>        display:build-link("get-code",<br/>                           $local, <br/>                           $uri,<br/>                           ())<br/>             else<br/>              (),<br/>    if (fn:exists(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:description) or<br/>         fn:exists(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:author) or<br/>         fn:exists(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:version) or<br/>         fn:exists(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:since) or<br/>         fn:exists(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:see)) then<br/>           (&lt;h4&gt;Module Description&lt;/h4&gt;,<br/>            display:print-comment(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:description, (), $local),<br/>            &lt;ul&gt;<br/>              {<br/>              (display:print-comment(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:author, "Author:", $local),<br/>              display:print-comment(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:version, "Version:", $local),<br/>              display:print-comment(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:since, "Since:", $local),<br/>              display:print-comment(fn:doc($uri)/xq:xqdoc/xq:module/xq:comment/xq:see, "See:", $local))<br/>              }<br/>            &lt;/ul&gt;)<br/>    else<br/>         ()<br/>   )<br/>}<br/></pre></body></html>